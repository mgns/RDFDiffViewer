@(resource: String)(versions: List[String])

@main("DBpedia-diff") {

    <div class="container">
        <div class="starter-template">
            <h1>@controllers.Application.decodeEntity(resource)</h1>
            <p class="lead"><a href="http://dbpedia.org/page/@resource">
                http://dbpedia.org/page/@controllers.Application.decodeEntity(resource)
            </a></p>
            <p>
            <div class="dropdown inline" style="float:right" >
                <button class="btn btn-default dropdown-toggle" type="button" id="menu1" data-toggle="dropdown">
                    Choose version
                    <span class="caret"></span></button>
                <ul id="versionselRight" class="dropdown-menu" role="menu" aria-labelledby="menu1">
                @for(version <- versions) {
                    <li role="presentation"><a role="menuitem" tabindex="-1" href="#">@version</a></li>
                }
                </ul>
            </div>
            <div class="dropdown inline">
                <button class="btn btn-default dropdown-toggle" type="button" id="menu2" data-toggle="dropdown">
                    Choose version
                    <span class="caret"></span></button>
                <ul id="versionselLeft" class="dropdown-menu" role="menu" aria-labelledby="menu2">
                @for(version <- versions) {
                    <li role="presentation"><a role="menuitem" tabindex="-1" href="#">@version</a></li>
                }
                </ul>
            </div>
            <div id="tripleListPlaceholder"></div>
        </div>
    </div>

    <script type="text/html" id='tripleListTemplate'>
        <table class="table">
        <thead><tr>
            <th class="col-md-5"></th>
            <th class="col-md-1"></th>
            <th class="col-md-5"></th>
        </tr></thead>
            <%
            _.each(data,function(group,key,list){ %>
            <tbody >

                <tr class="heading"><td colspan="3"><%= valueTemplate({value:group.key})%></td></tr>
                <% _.each(group.values,function(value,keyV,listV){
                    var representation = valueTemplate({value:value});
                    if (!value.right && compareMode) { %>
                        <tr><td class="right"><%= representation%></td>
                        <td class="center"><image src="@routes.Assets.at("images/famfamfam/delete.png")"></td>
                        <td></td></tr> <% }
                    else if (!value.left && compareMode) { %>
                        <tr><td></td>
                        <td class="center"><image src="@routes.Assets.at("images/famfamfam/add.png")"></td>
                        <td><%= representation%></td></tr> <% }
                    else { %>
                        <tr><td colspan="3" class="center"><%= representation%></td></tr> <% } %>
                <% }); %>
            </tbody>
            <% }); %>
        </table>
    </script>

    <script type="text/html" id='valueTemplate'>
        <% if(value.node === "iri") { %>
            <a href ="<%=value.plain%>"> <% } %>
        <% if(value.prefix !== undefined && value.suffix !== undefined) { %>
            <%= value.prefix%>:<%=value.suffix%> <% }
        else { %>
            <%= value.plain %> <% } %>
        <% if(value.node === "iri") { %>
            </a> <% } %>
    </script>

}